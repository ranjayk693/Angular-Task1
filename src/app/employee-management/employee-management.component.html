<section class="form-container">
  <h1>Add Employee</h1>

  <form [formGroup]="EmployeeForm" (ngSubmit)="onSubmitButton()">
    <section class="row1 row">
      <section class="employee-details">
        <label for="UserId">Employee Id:</label>
        <input
          type="number"
          id="UserId"
          placeholder="Enter Id"
          formControlName="id"
        />
      </section>
      <section class="employee-details">
        <label for="UserName">Name</label>
        <input
          type="text"
          id="UserName"
          placeholder="Enter Name"
          formControlName="name"
          minlength="3"
        />
      </section>
    </section>

    <section class="row2 row">
      <section class="employee-details">
        <label for="UserContact">Contact number:</label>
        <input
          type="number"
          id="UserContact"
          placeholder="Enter contact number"
          formControlName="contact"
        />
      </section>
      <section class="employee-details">
        <label for="UserEmail">Email:</label>
        <input
          type="email"
          id="UserEmail"
          placeholder="Enter Email"
          formControlName="email"
        />
      </section>
    </section>

    <section class="row3 row">
      <section class="employee-details skill-container">
        <label>Skills</label>
        <button class="skill-add-btn" (click)="onAddSkillButton($event)">
          Add skill +
        </button>
      </section>
      <section class="employee-details gender-section">
        <label> Gender:</label>
        <section>
          <input
            type="radio"
            name="gender"
            value="male"
            id="male"
            formControlName="gender"
            [checked]="EmployeeForm.get('gender')?.value == 'male'"
          />
          <label for="male">Male</label>

          <input
            type="radio"
            name="gender"
            value="female"
            id="female"
            formControlName="gender"
            [checked]="EmployeeForm.get('gender')?.value == 'female'"
          />
          <label for="female">Female</label>
        </section>
      </section>
    </section>

    <section formArrayName="skills">
      @for(item of skills!.controls ;track item ;let i=$index){

      <section [formGroupName]="i" class="dynamic-skills-container">
        <textarea
          cols="20"
          rows="1"
          placeholder="Enter skill name"
          formControlName="skill"
        ></textarea>
        <select formControlName="experience">
          <option value="none" hidden>Select Experince</option>
          <option value="Beginner">No Experince</option>
          <option value="Intermediate">Medium Experince</option>
          <option value="Experinced">High Experince</option>
        </select>
        <button class="skills-delete-btn" (click)="onDeleteButton(i)">
          <img src="assets/icons/delete.png" alt="delete-logo" />
        </button>
      </section>
      }
    </section>
    <button type="submit" class="submit-update-btn">
      {{ ButtonText }}
    </button>
  </form>

  <pre
    >{{ EmployeeForm.value | json }}
  </pre>

  <style>
    .form-container {
      display: flex;
      flex-direction: column;
      margin-left: 25px;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    .employee-details {
      display: flex;
      flex-direction: column;
    }

    input {
      font-size: 15px;
      width: 25rem;
      padding: 0.3rem;
    }

    .row {
      display: flex;
      align-items: center;
      gap: 25px;
      flex-wrap: wrap;
    }

    textarea {
      resize: none;
      padding: 0.5rem;
    }

    select {
      padding: 0.5rem;
    }

    .skill-container {
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      width: 26rem;
    }

    .dynamic-skills-container {
      display: flex;
      flex-direction: row;
      width: 26rem;
      gap: 0.5rem;
      align-items: center;
      flex-wrap: wrap;
      justify-content: space-between;
      margin-top: 5px;
    }

    button {
      font-family: Arial, sans-serif;
      color: #fff;
      border: none;
      border-radius: 3px;
      padding: 7.5px 15px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .skill-add-btn {
      background-color: green;
    }

    .submit-update-btn {
      width: 90px;
      background-color: #007bff;
    }

    .submit-update-btn:active {
      background-color: #004080;
      box-shadow: none;
    }

    .submit-update-btn:hover {
      background-color: #0056b3;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .skills-delete-btn {
      background-color: red;
    }

    .skills-delete-btn img {
      width: 20px;
    }

    .gender-section input {
      width: auto;
    }

    input.ng-invalid.ng-touched {
      border: 1px solid red;
    }

    textarea.ng-invalid.ng-touched {
      border: 1px solid red;
    }

    @media (max-width: 500px) {
      .form-container {
        margin-left: 0px;
      }

      .dynamic-skills-container {
        display: flex;
        flex-direction: column;
        align-items: start;
      }

      input {
        width: 22.5rem;
      }
    }
  </style>
</section>
